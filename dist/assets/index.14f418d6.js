import{a as v,j as g,L as y,r as l,u as x,b as A,c as P,R as L,d as w,B as q}from"./vendor.b2626228.js";const S=function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))n(e);new MutationObserver(e=>{for(const s of e)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function c(e){const s={};return e.integrity&&(s.integrity=e.integrity),e.referrerpolicy&&(s.referrerPolicy=e.referrerpolicy),e.crossorigin==="use-credentials"?s.credentials="include":e.crossorigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(e){if(e.ep)return;e.ep=!0;const s=c(e);fetch(e.href,s)}};S();const m=v.create({baseURL:"https://jsonplaceholder.typicode.com"}),p={getAllAlbums:async()=>(await m.get("/albums")).data,getAlbum:async t=>(await m.get(`/albums/${t}`)).data,getPhotosfromAlbum:async t=>(await m.get(`/albums/${t}/photos`)).data,getPhoto:async t=>(await m.get(`/photos/${t}`)).data};const o=g.exports.jsx,d=g.exports.jsxs,j=g.exports.Fragment,R=({id:t,title:r})=>o(y,{className:"albums",to:`/albums/${t}`,children:r}),k=()=>{const[t,r]=l.exports.useState([]),[c,n]=l.exports.useState(!1);l.exports.useEffect(()=>{e()},[]);const e=async()=>{n(!0);const s=await p.getAllAlbums();r(s),n(!1)};return d("div",{children:[c&&"Carregado...",t.map((s,a)=>o(R,{id:s.id,title:s.title},a))]})},B=({data:t})=>o(y,{className:"photo",to:`/photos/${t.id}`,children:o("img",{src:t.thumbnailUrl,alt:t.title})}),N=()=>{const t=x(),r=A(),[c,n]=l.exports.useState(!1),[e,s]=l.exports.useState([]),[a,b]=l.exports.useState();l.exports.useEffect(()=>{t.id&&(h(t.id),f(t.id))},[]);const h=async i=>{n(!0);const u=await p.getPhotosfromAlbum(i);s(u),n(!1)},f=async i=>{const u=await p.getAlbum(i);b(u)};return d("div",{children:[o("button",{style:{margin:"5px"},onClick:()=>{r("/")},children:"voltar"}),c&&"Carregando...",o("h2",{style:{margin:"5px"},children:a==null?void 0:a.title}),e.map((i,u)=>o(B,{data:i},u))]})},C=()=>{const t=A(),r=x(),[c,n]=l.exports.useState(!1),[e,s]=l.exports.useState();l.exports.useEffect(()=>{r.id&&a(r.id)},[]);const a=async h=>{n(!0);const f=await p.getPhoto(h);s(f),n(!1)};return d("div",{children:[c&&"Carregando...",e&&d(j,{children:[o("button",{style:{margin:"5px"},onClick:()=>{t(-1)},children:"Voltar"}),o("p",{style:{margin:"5px"},children:e==null?void 0:e.title}),o("img",{src:e==null?void 0:e.url,alt:e==null?void 0:e.title})]})]})},E=()=>P([{path:"/",element:o(k,{})},{path:"/albums/:id",element:o(N,{})},{path:"/photos/:id",element:o(C,{})}]);function O(){return d("div",{children:[o("h1",{children:"Galeria de fotos"}),o("hr",{}),o(E,{})]})}L.render(o(w.StrictMode,{children:o(q,{children:o(O,{})})}),document.getElementById("root"));
